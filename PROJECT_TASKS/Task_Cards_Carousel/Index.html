<!DOCTYPE html>
<html>
  <head>
    <title>Document</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
      crossorigin="anonymous"
    />
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
      crossorigin="anonymous"
    ></script>

    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
  </head>

  <body>
    <div id="Cards"></div>
    <div id="Carousel"></div>

    <script>

              function fetchData(url, dis) {
                  fetch(url).then(y => y.json())
                      .then(y => {

                          dis(y);
                          console.log(y);
                      })

              }

              const displayCards = (data) => {

                  let p = data.map((value) => {

                      return `<div class='col-4'><div class="card" style="width: 18rem;">
                      <img src='${value.image}' class="card-img-top" alt="...">
                      <div class="card-body">
                      <h5 class="card-title">${value.title}</h5>
                      <p class="card-text">${value.description}</p>
                      <p class="card-text">$${value.price}</p>
                      </div>`;
                      })

                    document.getElementById("Cards").innerHTML = p.join(" ");
                     }
              
              const displayCarousel = (data) => {

                    let p = data.map((value,index) => {
                    
                      const indicators = value.images.map(function(vIndicator,iIndicator){
                    return `<button type="button" data-bs-target="#demo${iIndicator}" data-bs-slide-to="${iIndicator}" class="active"></button>`;
                    });

                    const image = value.images.map(function(vImage,iImage){
                      return `<div class="carousel-item ${iImage == 0? "active" : ""}">
                      <img src="${vImage}" alt="Los Angeles" class="d-block" style="width:100%">
                    </div>`;
                    });

                    const display = `<div id="demo${index}" class="carousel slide" data-bs-ride="carousel">
                    <!-- Indicators/dots -->
                    <div class="carousel-indicators">
                      ${indicators.join("")};
                    </div>

                    <!-- The slideshow/carousel -->
                    <div class="carousel-inner">
                      ${image.join("")};
                    </div>

                    <!-- Left and right controls/icons -->
                    <button class="carousel-control-prev" type="button" data-bs-target="#demo${index}" data-bs-slide="prev">
                      <span class="carousel-control-prev-icon"></span>
                    </button>
                    <button class="carousel-control-next" type="button" data-bs-target="#demo${index}" data-bs-slide="next">
                      <span class="carousel-control-next-icon"></span>
                    </button>
                  </div></div><div>
                  <p>Title: ${value.title}</p>
                  <p>Price: ${value.price}</p>
                  </div>`;
                  return display;
                  return console.log(display);

                  });
                  document.getElementById("Carousel").innerHTML = p.join(" ");
                }
                  

              fetchData("https://fakestoreapi.com/products", displayCards)
              fetchData("https://api.escuelajs.co/api/v1/products", displayCarousel)
    </script>
  </body>
</html>
