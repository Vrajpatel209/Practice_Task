<!DOCTYPE html>
<html>

<head>
    <title>Search_Employee_Details</title>
</head>

<body>
    <input type="text" id="searchItems">
    <table border="1">
        <th>
            ID
            <select onchange="filterID(this)">
                <option value="EQ">Equal</option>
                <option value="NEQ">Not Equal</option>
            </select>
        </th>
        <th>
            NAME
            <select onchange="filterName(this)">

                <option value="C">Contains</option>
                <option value="NC">Not Contains</option>
                <option value="S">Start With</option>
                <option value="EW">End With</option>
    
            </select>
        </th>
        <th>
            USERNAME
            <select onchange="filterUsername(this)">

                <option value="C">Contains</option>
                <option value="NC">Not Contains</option>
                <option value="S">Start With</option>
                <option value="EW">End With</option>
    
            </select>
        </th>
        <th>
            EMAIL
            <select onchange="filterEmail(this)">

                <option value="C">Contains</option>
                <option value="NC">Not Contains</option>
                <option value="S">Start With</option>
                <option value="EW">End With</option>
    
            </select>
        </th>
        <th>
            ADDRESS
            <select onchange="filterAddress(this)">

                <option value="C">Contains</option>
                <option value="E">Equal</option>
                <option value="NE">Not Equal</option>
                <option value="NC">Not Contains</option>
                <option value="S">Start With</option>
                <option value="EW">End With</option>
    
            </select>
        </th>
        <th>
            PHONE
            <select onchange="filterPhone(this)">

                <option value="E">Equal</option>
                <option value="C">Contains</option>
                <option value="S">Start With</option>
                <option value="EW">End With</option>
    
            </select>
        </th>
        <th>
            WEBSITE
            <select onchange="filterWeb(this)">

                <option value="C">Contains</option>
                <option value="NC">Not Contains</option>
                <option value="S">Start With</option>
                <option value="EW">End With</option>
    
            </select>
        </th>
        <th>
            COMPANY
            <select onchange="filterCompany(this)">

                <option value="C">Contains</option>
                <option value="NC">Not Contains</option>
                <option value="S">Start With</option>
                <option value="EW">End With</option>
    
            </select>
        </th>
        <tbody id="display">

        </tbody>
    </table>
    <script>
        array = [];
        fetch("https://jsonplaceholder.typicode.com/users").then(function (value) {
            return value.json();
        }).then(function (value) {
            array = value;
            display(value);
        });

        function display(data) {
            document.getElementById("display").innerHTML = data.map(function(value){
                return (`<tr>
                    <td>${value.id}</td>
                    <td>${value.name}</td>
                    <td>${value.username}</td>
                    <td>${value.email}</td>
                    <td>Street: ${value.address.street}<br>
                        Suite: ${value.address.suite}<br>
                        City: ${value.address.city}<br>
                        Zip: ${value.address.zipcode}</td>
                    <td>${value.phone}</td>
                    <td>:-<br>${value.website}</td>
                    <td>:-<br>${value.company.name}</td>
                    </tr>`);
            }).join(" ");
        }

        function filterID(a){
            const value = a.value;
            const textvalue = document.getElementById("searchItems").value;

            let z = array.filter(function(v){
                if(value == "EQ"){
                    return v.id = textvalue;
                }
                else{
                    return v.id != textvalue;
                }
            })
            display(z);
            console.log(value);
        }

        function filterName(b){
            const value = b.value;
            const textvalue = document.getElementById("searchItems").value.trim().toLowerCase();

            let z = array.filter(function(v){
                if(value == "E"){
                    return v.name.toLowerCase() = textvalue;
                }
                else if(value == "NE"){
                    return v.name.toLowerCase() != textvalue;
                }
                else if(value == "C"){
                    return v.name.toLowerCase.includes(textvalue); //search(`/${textvalue}/ig`)>=0;
                }
                else if(value == "NC"){
                    return !v.name.toLowerCase().includes(textvalue);
                }
                else if(value == "S"){
                    return v.name.toLowerCase().startsWith(textvalue);
                }
                else{
                    return v.name.toLowerCase().endsWith(textvalue);
                }
            })
            display(z);
            console.log(value);
        }

        function filterUsername(c){
            const value = c.value;
            const textvalue = document.getElementById("searchItems").value.trim().toLowerCase();

            let z = array.filter(function(v){
                if(value == "E"){
                    return v.username.toLowerCase() = textvalue;
                }
                else if(value == "NE"){
                    return v.username.toLowerCase() != textvalue;
                }
                else if(value == "C"){
                    return v.username.toLowerCase.includes(textvalue); //search(`/${textvalue}/ig`)>=0;
                }
                else if(value == "NC"){
                    return !v.username.toLowerCase().includes(textvalue);
                }
                else if(value == "S"){
                    return v.username.toLowerCase().startsWith(textvalue);
                }
                else{
                    return v.username.toLowerCase().endsWith(textvalue);
                }
            })
            display(z);
            console.log(value);
        }

        function filterEmail(d){
            const value = d.value;
            const textvalue = document.getElementById("searchItems").value.trim().toLowerCase();

            let z = array.filter(function(v){
                if(value == "E"){
                    return v.email.toLowerCase() = textvalue;
                }
                else if(value == "NE"){
                    return v.email.toLowerCase() != textvalue;
                }
                else if(value == "C"){
                    return v.email.toLowerCase.includes(textvalue); //search(`/${textvalue}/ig`)>=0;
                }
                else if(value == "NC"){
                    return !v.email.toLowerCase().includes(textvalue);
                }
                else if(value == "S"){
                    return v.email.toLowerCase().startsWith(textvalue);
                }
                else{
                    return v.email.toLowerCase().endsWith(textvalue);
                }
            })
            display(z);
            console.log(value);
        }

        function filterAddress(e){
            const value = e.value;
            const textvalue = document.getElementById("searchItems").value.trim().toLowerCase();

            let z = array.filter(function(v){
                if(value == "E"){
                    return v.address.city.toLowerCase() = textvalue;
                }
                else if(value == "NE"){
                    return v.address.city.toLowerCase() != textvalue;
                }
                else if(value == "C"){
                    return v.address.city.toLowerCase.includes(textvalue); //search(`/${textvalue}/ig`)>=0;
                }
                else if(value == "NC"){
                    return !v.address.city.toLowerCase().includes(textvalue);
                }
                else if(value == "S"){
                    return v.address.city.toLowerCase().startsWith(textvalue);
                }
                else{
                    return v.address.city.toLowerCase().endsWith(textvalue);
                }
            })
            display(z);
            console.log(value);
        }
    
        function filterPhone(f){
            const value = f.value;
            const textvalue = document.getElementById("searchItems").value.trim();

            let z = array.filter(function(v){
                if(value == "E"){
                    return v.phone = textvalue;
                }
                else if(value == "NE"){
                    return v.phone != textvalue;
                }
                else if(value == "C"){
                    return v.phone.includes(textvalue);
                }
                else if(value == "NC"){
                    return !v.phone.includes(textvalue);
                }
                else if(value == "S"){
                    return v.phone.startsWith(textvalue);
                }
                else{
                    return v.phone.endsWith(textvalue);
                }
            })
            display(z);
            console.log(value);
        }
    
        function filterWeb(g){
            const value = g.value;
            const textvalue = document.getElementById("searchItems").value.trim().toLowerCase();

            let z = array.filter(function(v){
                if(value == "E"){
                    return v.website.toLowerCase() = textvalue;
                }
                else if(value == "NE"){
                    return v.website.toLowerCase() != textvalue;
                }
                else if(value == "C"){
                    return v.website.toLowerCase.includes(textvalue); //search(`/${textvalue}/ig`)>=0;
                }
                else if(value == "NC"){
                    return !v.website.toLowerCase().includes(textvalue);
                }
                else if(value == "S"){
                    return v.website.toLowerCase().startsWith(textvalue);
                }
                else{
                    return v.website.toLowerCase().endsWith(textvalue);
                }
            })
            display(z);
            console.log(value);
        }

        function filterCompany(h){
            const value = h.value;
            const textvalue = document.getElementById("searchItems").value.trim().toLowerCase();

            let z = array.filter(function(v){
                if(value == "E"){
                    return v.company.name.toLowerCase() = textvalue;
                }
                else if(value == "NE"){
                    return v.company.name.toLowerCase() != textvalue;
                }
                else if(value == "C"){
                    return v.company.name.toLowerCase.search(`/${textvalue}/ig`)>=0; //.includes(textvalue);
                }
                else if(value == "NC"){
                    return !v.company.name.toLowerCase().includes(textvalue);
                }
                else if(value == "S"){
                    return v.company.name.toLowerCase().startsWith(textvalue);
                }
                else{
                    return v.company.name.toLowerCase().endsWith(textvalue);
                }
            })
            display(z);
            console.log(value);
        }

    </script>
</body>

</html>